---
title: Nested Stochastic Blockmodels Part 2
author: John McLevey
date: 2026-02-05T00:00:00.000Z
excerpt: Fitting and visualizing nested stochastic blockmodels with graph-tool.
execute:
  echo: true
  warning: false
  message: false
format:
  gfm: default
---


# Nested Stochastic Blockmodels Part 2
John McLevey
2026-02-05

In this second post, we continue our exploration of nested stochastic blockmodels by fitting a model to the political blogs network.

## Loading the Network

Let’s start by loading our network data and examining its structure.

``` python
import pandas as pd
import numpy as np

# Create a simple example adjacency matrix
np.random.seed(42)
n_nodes = 10
adjacency = np.random.randint(0, 2, size=(n_nodes, n_nodes))
adjacency = (adjacency + adjacency.T) // 2  # Make symmetric
np.fill_diagonal(adjacency, 0)

df = pd.DataFrame(adjacency,
                  columns=[f"node_{i}" for i in range(n_nodes)],
                  index=[f"node_{i}" for i in range(n_nodes)])

print("Example adjacency matrix:")
print(df)
```

    Example adjacency matrix:
            node_0  node_1  node_2  node_3  node_4  node_5  node_6  node_7  \
    node_0       0       0       0       0       0       0       0       0   
    node_1       0       0       0       0       0       0       0       1   
    node_2       0       0       0       1       1       0       0       0   
    node_3       0       0       1       0       1       0       0       0   
    node_4       0       0       1       1       0       0       0       0   
    node_5       0       0       0       0       0       0       1       0   
    node_6       0       0       0       0       0       1       0       0   
    node_7       0       1       0       0       0       0       0       0   
    node_8       0       1       0       0       0       0       1       0   
    node_9       1       0       1       0       1       0       1       1   

            node_8  node_9  
    node_0       0       1  
    node_1       1       0  
    node_2       0       1  
    node_3       0       0  
    node_4       0       1  
    node_5       0       0  
    node_6       1       1  
    node_7       0       1  
    node_8       0       1  
    node_9       1       0  

## Summary Statistics

``` python
total_edges = adjacency.sum() // 2
density = total_edges / (n_nodes * (n_nodes - 1) / 2)
print(f"Number of nodes: {n_nodes}")
print(f"Number of edges: {total_edges}")
print(f"Network density: {density:.3f}")
```

    Number of nodes: 10
    Number of edges: 13
    Network density: 0.289

## Next Steps

In the next post, we’ll fit the actual nested SBM and visualize the results.
